<div class="container mt-4">
    <div class="d-flex justify-content-between align-items-center mb-3">
        <h2>Receptionist List</h2>
        <a href="/admin/reception" class="btn btn-success">âž• Add Receptionist</a>
    </div>


            <table class="table table-bordered table-hover table-responsive">
                <thead class="table-dark">
                    <tr>
                        <th class="text-center">Profile</th>
                        <th class="text-center">Name</th>
                        <th class="text-center">Contact</th>
                        <th class="text-center">Email</th>
                        <th class="text-center">Status</th>
                        <!-- <th>Added By</th> -->
                        <th class="text-center">Actions</th>
                    </tr>
                </thead>
                <tbody>
                    <% if (receptionists && receptionists.length> 0) { %>
                        <% receptionists.forEach(reception=> { %>
                            <tr>
                                <td class="text-center">
                                    <% if (reception.reception_image) { %>
                                        <img src="/uploads/<%= reception.reception_image %>" alt="Profile"
                                            class="rounded-circle" width="40" height="40">
                                        <% } else { %>
                                            <span class="badge bg-secondary">N/A</span>
                                            <% } %>
                                </td>
                                <td class="align-middle text-capitalize">
                                    <%= reception.reception_name %>
                                </td>
                                <td class="align-middle">
                                    <%= reception.reception_contact %>
                                </td>
                                <td class="align-middle">
                                    <%= reception.reception_email %>
                                </td>
                                <td class="align-middle text-center">
                                    <% if (reception.status==='active' ) { %>
                                        <span class="badge bg-success text-center"
                                            style="min-width: 80px;">Active</span>
                                        <% } else { %>
                                            <span class="badge bg-danger text-center"
                                                style="min-width: 80px;">Inactive</span>
                                            <% } %>

                                </td>
                                <!-- <td><%= reception.admin_id %></td> -->
                                <td class="align-middle text-center">
                                    <a href="/admin/reception/edit/<%= reception.reception_id %>"
                                        class="btn btn-sm btn-primary">Edit</a>
                                    <button onclick="confirmDelete('<%= reception.reception_id %>')"
                                        class="btn btn-sm btn-danger">Delete</button>
                                </td>
                            </tr>
                            <% }) %>
                                <% } else { %>
                                    <tr>
                                        <td colspan="7" class="text-center">No receptionists found.</td>
                                    </tr>
                                    <% } %>
                </tbody>
            </table>
</div>

<script>
    function confirmDelete(id) {
        if (confirm("Are you sure you want to delete this receptionist?")) {
            fetch(`/admin/receptions/delete/${id}`, {
                method: 'DELETE',
            }).then(res => {
                if (res.ok) {
                    window.location.reload();
                } else {
                    alert("Failed to delete receptionist.");
                }
            });
        }
    }
</script>