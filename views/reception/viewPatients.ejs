<div class="container-fluid py-4">
  <div class="container">
    <div class="row justify-content-center">
      <div class="col-lg-11">

        <div class="d-flex justify-content-between align-items-center mb-3">
          <h2 class="text-primary">Patient Records</h2>
          <a href="/reception/patients/new" class="btn btn-outline-primary">
            âž• Add Patient
          </a>
        </div>

        <div class="table-responsive rounded-4 shadow-sm border bg-white p-3">
          <table class="table table-bordered table-hover align-middle text-center">
            <thead class="table-primary">
              <tr>
                <th>ID</th>
                <th>Name</th>
                <th>Age</th>
                <th>Gender</th>
                <th>Contact</th>
                <th>Issue</th>
                <th>Admitted</th>
                <th>Discharged</th>
                <th>Room</th>
                <th>Nurse</th>
                <th>Doctor</th>
                <th>Status</th>
              </tr>
            </thead>
            <tbody>
              <% if (patients.length> 0) { %>
                <% patients.forEach(patient=> { %>
                  <tr>
                    <td>
                      <%= patient.patient_id %>
                    </td>
                    <td>
                      <%= patient.patient_name %>
                    </td>
                    <td>
                      <%= patient.patient_age %>
                    </td>
                    <td>
                      <%= patient.patient_gender %>
                    </td>
                    <td>
                      <%= patient.patient_contact %>
                    </td>
                    <td>
                      <%= patient.patient_issue %>
                    </td>
                    <td>
                      <%= patient.admitted_date ? patient.admitted_date.toISOString().split('T')[0] : '' %>
                    </td>
                    <td>
                      <%= patient.discharge_date ? patient.discharge_date.toISOString().split('T')[0] : '' %>
                    </td>
                    <td>
                      <%= patient.room_no %>
                    </td>
                    <td>
                      <%= patient.nurse_id %>
                    </td>
                    <td>
                      <%= patient.doctor_id %>
                    </td>
                    <td>
                      <span class="badge bg-<%= patient.status === 'Admitted' ? 'success' : 'secondary' %>">
                        <%= patient.status %>
                      </span>
                    </td>
                  </tr>
                  <% }) %>
                    <% } else { %>
                      <tr>
                        <td colspan="12" class="text-muted">No patients found.</td>
                      </tr>
                      <% } %>
            </tbody>
          </table>
        </div>

      </div>
    </div>
  </div>
</div>